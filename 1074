#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include <stdlib.h>

int main() {
	int N = 0; //배열의 크기 2^N * 2^N
	int r = 0;
	int c = 0;

	do { //N r c 입력받기
		printf("input N r c \n");
		scanf("%d %d %d", &N, &r, &c);
	} while (N <= 0 || N > 15 || r < 0 || c < 0 || r>((2 ^ N) - 1) || c>((2 ^ N) - 1));
	//N은 15보다 작거나 같은 자연수이고, r과 c는 0보다 크거나 같고, 2^N-1보다 작거나 같은 정수이다

	int col = 2 ^ N;
	int row = 2 ^ N;

	int **m = malloc(sizeof(int *) * col); //이중 포인터에 세로크기 지정

	for (int i = 0; i < col; i++) {
		m[i] = malloc(sizeof(int) * row); //m[i]에 가로크기 지정
	}

	//Z탐색하는 재귀함수 짜기

	int num = 0;

	for (int i = 0; i < col; i++) {
		for (int j = 0; j < row; j++) {
			m[i][j] = num;
			num++;
			printf("%d ", m[i][j]);
		}
		printf("\n");
	}

	printf("%d", m[r][c]);

	for (int i = 0; i < N; i++) { //deallocate memory
		free(m[i]);
	}

	free(m);

	printf("오류 없음 \n");

	return 0;
}

void recursiveFunc() {

}
